{% extends '../base.html' %}

{% block title%}Authors{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <div class="col-6 col-sm-3">
      <div class="d-grid gap-2 d-md-block">
        <a class="btn btn-primary mt-3" href="{% url 'authors-add' %}" role="button">Add Author</a>
      </div>
    </div>
    <div class="col-6 col-sm-3">
    <!--   EMPTY   -->
    </div>
  </div>
</div>

<div class="container text-center">
  <div class="row row-cols">
    <!--    Start Author Card    -->
    {% if not authors %}
      <p> Whoops, cant find any author! Please add new author.</p>
    {% else %}
    {% for author in authors %}
    <div class="card me-3 mt-3" style="max-width: 540px;" >
      <div class="row g-0">
        <div class="col-md-4">
          <img src="{{author.photo}}" class="img-fluid rounded-start mt-2 mb-2" alt="...">
        </div>
        <div class="col-md-8">
          <div class="card-body">
            <h5 class="card-title">{{author.first_name}} {{author.last_name}}</h5>
            <h5 class="card-title">
              {% if author.date_of_birth %}
              {{author.date_of_birth|slice:"4" }} â€“
                {% if author.date_of_death %}
                  {{author.date_of_death|slice:"4"}}
                {% else %}
                   ...
                {% endif %}
              {% endif %}
            </h5>
            <p class="card-text">{{author.biography|slice:"115"}}...</p>
<!--            <a href="#" class="btn btn-primary">Read more</a>-->
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
    {% endif %}
  </div>
</div>
{% endblock %}
